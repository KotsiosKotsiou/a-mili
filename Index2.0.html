<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Who Wants to Be a Millionaire â€“ Kids Edition</title>
  <style>
    html, body {
      height: 100%;
      width: 100%;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: Arial, sans-serif;
      background: url('images/game-background.jpg') no-repeat center center;
      background-size: cover;
      color: white;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    #game-container {
      position: relative;
      width: 1100px;
      height: 700px;
      display: flex;
      background: rgba(0,0,0,0.7);
      border-radius: 15px;
      box-shadow: 0 0 20px #000;
      overflow: hidden;
    }

    /* Prize ladder styling */
    #prize-ladder {
      width: 250px;
      background: #111a33;
      border-left: 5px solid orange;
      padding: 15px 10px;
      box-sizing: border-box;
      color: #fff;
      font-weight: bold;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      overflow-y: auto;
      user-select: none;
    }
    #prize-ladder h2 {
      text-align: center;
      color: orange;
      margin: 10px 0 20px 0;
      font-size: 24px;
      letter-spacing: 2px;
    }
    #prize-ladder ul {
      list-style: none;
      padding: 0;
      margin: 0;
      font-size: 18px;
    }
    #prize-ladder ul li {
      padding: 8px 10px;
      margin: 4px 0;
      border-radius: 5px;
      background: #223355;
      transition: background 0.3s, color 0.3s;
      display: flex;
      justify-content: space-between;
    }
    #prize-ladder ul li.current {
      background: orange;
      color: black;
      font-weight: bold;
      font-size: 20px;
      box-shadow: 0 0 10px orange;
    }
    #prize-ladder ul li.guaranteed {
      border-left: 5px solid #00cc00;
    }

    /* Left game area */
    #left-area {
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      padding: 20px 40px;
      box-sizing: border-box;
      position: relative;
    }

    #bottom-left-image {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 320px;
      height: auto;
      pointer-events: none;
      user-select: none;
      z-index: 1000;
    }

    .lifelines {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 15px;
      z-index: 999;
    }

    .lifeline-btn {
      background: #3296ff;
      border: none;
      border-radius: 8px;
      padding: 10px 20px;
      font-size: 18px;
      color: black;
      cursor: pointer;
      user-select: none;
      flex-grow: 1;
      max-width: 180px;
      transition: background 0.3s;
    }

    .lifeline-btn.used {
      background: #888;
      color: #555;
      cursor: not-allowed;
    }

    #play-area {
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      max-width: 700px;
      margin: 0 auto;
    }
    

    .question-box {
      background: rgba(0, 50, 255, 0.9);
      border: 4px solid orange;
      padding: 20px;
      font-size: 24px;
      margin-bottom: 20px;
      word-wrap: break-word;
      min-height: 100px;
      border-radius: 10px;
    }

    .answers {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      width: 100%;
    }

    .answer-btn {
      background: #3296ff;
      border: none;
      border-radius: 10px;
      padding: 15px;
      font-size: 20px;
      color: black;
      cursor: pointer;
      user-select: none;
      transition: background 0.3s;
    }

    .answer-btn.disabled {
      background: #ccc;
      color: #888;
      cursor: not-allowed;
    }

    .answer-btn:hover:not(.disabled) {
      background: yellow;
    }

    .feedback, .phone-hint, .audience-hint {
      font-size: 28px;
      padding: 10px;
      margin-top: 20px;
      background: white;
      color: black;
      border-radius: 8px;
      display: none;
      min-height: 40px;
    }

    .feedback.correct { color: #00c000; }
    .feedback.wrong { color: #c00000; }

    #start-screen, #end-screen {
      
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100%;
      max-width: 700px;
      text-align: center;
      user-select: none;
    }

    #prize-display {
      font-size: 22px;
      color: yellow;
      margin-top: 10px;
      font-weight: bold;
      user-select: none;
    }
  </style>
</head>
<body>
  <img id="bottom-left-image" src="images/Gemini_Generated_Image_gj5gt3gj5gt3gj5g-removebg-preview.png" alt="Mascot" />

  <div id="game-container">
    <div id="left-area">
      <div id="start-screen">
        <h1 style="font-size:48px;color:orange;">Who Wants to Be a Millionaire!</h1>
        <p style="font-size:28px;color:red;">Click anywhere to start</p>
      </div>

      <div id="play-screen" style="display:none;">
        <div class="lifelines">
          <button id="lifeline-5050" class="lifeline-btn">50:50</button>
          <button id="lifeline-phone" class="lifeline-btn">Phone a Friend</button>
          <button id="lifeline-audience" class="lifeline-btn">Ask the Audience</button>
        </div>

        <div id="play-area">
          <div class="question-box" id="question-box"></div>
          <div class="answers" id="answers"></div>
          <div class="phone-hint" id="phone-hint"></div>
          <div class="audience-hint" id="audience-hint"></div>
          <div class="feedback" id="feedback"></div>
          <div id="prize-display"></div>
        </div>
      </div>

      <div id="end-screen" style="display:none;">
        <h1 class="feedback correct" id="end-text"></h1>
        <p style="font-size:28px;color:orange;">Try again  ðŸ‘‰ðŸ‘ˆ</p>
      </div>
    </div>

    <div id="prize-ladder">
      <h2>Prize Ladder</h2>
      <ul id="prize-list">
        <!-- Prizes inserted by JS -->
      </ul>
    </div>
  </div>

<script>
  const questions = [
    {question: "Î£Îµ Ï€Î¿Î¹Î± Ï‡ÏŽÏÎ± Î³ÎµÎ½Î½Î®Î¸Î·ÎºÎµ Ï„Î¿ ÏƒÏÎ³Ï‡ÏÎ¿Î½Î¿ Ï€Î¿Î´ÏŒÏƒÏ†Î±Î¹ÏÎ¿;", choices: ["Î‘Î³Î³Î»Î¯Î±", "Î£ÎºÏ‰Ï„Î¯Î±", "Î’ÏÎ±Î¶Î¹Î»Î¯Î±", "Î“ÎµÏÎ¼Î±Î½Î¯Î±"], answer: "A"},
    {question: "Î Î¿Î¹Î¿ ÎµÎ¯Î½Î±Î¹ Ï„Î¿ Î¼ÎµÎ³Î±Î»ÏÏ„ÎµÏÎ¿ Î½Î·ÏƒÎ¯ Ï„Î·Ï‚ Î•Î»Î»Î¬Î´Î±Ï‚;", choices: ["ÎšÏÎ®Ï„Î·", "Î¡ÏŒÎ´Î¿Ï‚", "Î•ÏÎ²Î¿Î¹Î±", "ÎšÎ­ÏÎºÏ…ÏÎ±"], answer: "A"},
    {question: "Î Î¿Î¹Î¿Ï‚ ÎµÎ¯Î½Î±Î¹ Î¿ ÏƒÏ…Î³Î³ÏÎ±Ï†Î­Î±Ï‚ Ï„Î¿Ï… Î­ÏÎ³Î¿Ï… 'ÎŸÎ´ÏÏƒÏƒÎµÎ¹Î±';", choices: ["ÎŒÎ¼Î·ÏÎ¿Ï‚", "Î£Î¿Ï†Î¿ÎºÎ»Î®Ï‚", "Î—ÏƒÎ¯Î¿Î´Î¿Ï‚", "Î‘ÏÎ¹ÏƒÏ„Î¿Ï„Î­Î»Î·Ï‚"], answer: "A"},
    {question: "Î Î¿Î¹Î¿Ï‚ Î±Î½Î±ÎºÎ¬Î»Ï…ÏˆÎµ Ï„Î· Î²Î±ÏÏÏ„Î·Ï„Î±;", choices: ["ÎÎµÏÏ„Ï‰Î½", "Î“Î±Î»Î¹Î»Î±Î¯Î¿Ï‚", "ÎšÎ¿Ï€Î­ÏÎ½Î¹ÎºÎ¿Ï‚", "Î‘ÏŠÎ½ÏƒÏ„Î¬Î¹Î½"], answer: "A"},
    {question: "Î Î¿Î¹Î¿Ï‚ Î¶Ï‰Î³ÏÎ¬Ï†Î¿Ï‚ ÎµÎ¯Î½Î±Î¹ Î´Î¹Î¬ÏƒÎ·Î¼Î¿Ï‚ Î³Î¹Î± Ï„Î¿ Î­ÏÎ³Î¿ 'Î¤Î± Î—Î»Î¹Î¿Ï„ÏÏŒÏ€Î¹Î±';", choices: ["Î Î¹ÎºÎ¬ÏƒÎ¿", "Î’Î±Î½ Î“ÎºÎ¿Î³Îº", "ÎœÎ¿Î½Î­", "Î›ÎµÎ¿Î½Î¬ÏÎ½Ï„Î¿ Î½Ï„Î± Î’Î¯Î½Ï„ÏƒÎ¹"], answer: "B"},
    {question: "Î Î¿Î¹Î¿Ï‚ Î±ÏÏ‡Î±Î¯Î¿Ï‚ ÎˆÎ»Î»Î·Î½Î±Ï‚ Ï†Î¹Î»ÏŒÏƒÎ¿Ï†Î¿Ï‚ Î®Ï„Î±Î½ Î´Î¬ÏƒÎºÎ±Î»Î¿Ï‚ Ï„Î¿Ï… Î‘ÏÎ¹ÏƒÏ„Î¿Ï„Î­Î»Î·;", choices: ["Î Î»Î¬Ï„Ï‰Î½", "Î£Ï‰ÎºÏÎ¬Ï„Î·Ï‚", "Î Ï…Î¸Î±Î³ÏŒÏÎ±Ï‚", "Î‘ÏÏ‡Î¹Î¼Î¯Î´Î·Ï‚"], answer: "A"},
    {question: "Î Î¿Î¹Î¿ ÎµÎ¯Î½Î±Î¹ Ï„Î¿ ÏˆÎ·Î»ÏŒÏ„ÎµÏÎ¿ Î²Î¿Ï…Î½ÏŒ Ï„Î·Ï‚ Î•Ï…ÏÏŽÏ€Î·Ï‚;", choices: ["ÎœÎ¿Î½Ï„ ÎœÏ€Î»Î±Î½", "ÎŒÏÎ¿Ï‚ Î•Î»Î¼Ï€ÏÎ¿Ï…Ï‚", "ÎŒÎ»Ï…Î¼Ï€Î¿Ï‚", "Î†Î»Ï€ÎµÎ¹Ï‚"], answer: "B"},
    {question: "Î Î¿Î¹Î¿ ÎµÎ¯Î½Î±Î¹ Ï„Î¿ Î²Î±ÏƒÎ¹ÎºÏŒ ÏƒÏ…ÏƒÏ„Î±Ï„Î¹ÎºÏŒ Ï„Î¿Ï… Ï†Ï…ÏƒÎ¹ÎºÎ¿Ï Î±ÎµÏÎ¯Î¿Ï…;", choices: ["ÎœÎµÎ¸Î¬Î½Î¹Î¿", "Î ÏÎ¿Ï€Î¬Î½Î¹Î¿", "Î’Î¿Ï…Ï„Î¬Î½Î¹Î¿", "Î‘Î¹Î¸Î¬Î½Î¹Î¿"], answer: "A"},
    {question: "Î Î¿Î¹Î¿ ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Î¿ Î­Ï‡ÎµÎ¹ Ï„Î¿Î½ Î¼ÎµÎ³Î±Î»ÏÏ„ÎµÏÎ¿ Î±Ï„Î¿Î¼Î¹ÎºÏŒ Î±ÏÎ¹Î¸Î¼ÏŒ Ï€Î¿Ï… Î­Ï‡ÎµÎ¹ Ï€Î±ÏÎ±Ï„Î·ÏÎ·Î¸ÎµÎ¯ ÏƒÏ„Î· Ï†ÏÏƒÎ·;", choices: ["ÎŸÏ…ÏÎ¬Î½Î¹Î¿", "Î Î»Î¿Ï…Ï„ÏŽÎ½Î¹Î¿", "Î˜ÏŒÏÎ¹Î¿", "Î¡Î±Î´ÏŒÎ½Î¹Î¿"], answer: "A"},
    {question: "Î Î¿Î¹Î± ÎµÎ¯Î½Î±Î¹ Î· Î¼ÎµÎ³Î±Î»ÏÏ„ÎµÏÎ· ÏƒÎµ Î­ÎºÏ„Î±ÏƒÎ· Î­ÏÎ·Î¼Î¿Ï‚ Ï„Î¿Ï… ÎºÏŒÏƒÎ¼Î¿Ï…;", choices: ["Î£Î±Ï‡Î¬ÏÎ±", "Î‘ÏÎ±Î²Î¹ÎºÎ®", "Î‘Î½Ï„Î±ÏÎºÏ„Î¹ÎºÎ®", "Î“ÎºÏŒÎ¼Ï€Î¹"], answer: "C"},
    {question: "Î Î¿Î¹Î¿ Ï€Î¿Ï„Î¬Î¼Î¹ Ï‡Ï‰ÏÎ¯Î¶ÎµÎ¹ Ï„Î· Î“Î±Î»Î»Î¯Î± Î±Ï€ÏŒ Ï„Î· Î“ÎµÏÎ¼Î±Î½Î¯Î±;", choices: ["Î¡Î®Î½Î¿Ï‚", "Î”Î¿ÏÎ½Î±Î²Î·Ï‚", "Î£Î·ÎºÎ¿Ï…Î¬Î½Î±Ï‚", "Î¡Î¿Î´Î±Î½ÏŒÏ‚"], answer: "A"},
    {question: "Î Î¿Î¹Î¿ ÎµÎ¯Î½Î±Î¹ Ï„Î¿ Î¼ÎµÎ³Î±Î»ÏÏ„ÎµÏÎ¿ Î½Î·ÏƒÎ¯ ÏƒÏ„Î¿Î½ ÎºÏŒÏƒÎ¼Î¿ Î¼ÎµÏ„Î¬ Ï„Î· Î“ÏÎ¿Î¹Î»Î±Î½Î´Î¯Î±;", choices: ["ÎÎ­Î± Î“Î¿Ï…Î¹Î½Î­Î±", "Î™ÏƒÎ»Î±Î½Î´Î¯Î±", "ÎœÎ±Î´Î±Î³Î±ÏƒÎºÎ¬ÏÎ·", "Î’ÏÎµÏ„Î±Î½Î¯Î±"], answer: "A"},
    {question: "Î Î¿Î¹Î± Ï€ÏŒÎ»Î· ÎµÎ¯Î½Î±Î¹ Î· Ï€ÏÏ‰Ï„ÎµÏÎ¿Ï…ÏƒÎ± Ï„Î·Ï‚ ÎÎ¹Î³Î·ÏÎ¯Î±Ï‚;", choices: ["Î›Î¬Î³ÎºÎ¿Ï‚", "Î‘Î¼Ï€Î¿ÏÏ„Î¶Î±", "ÎšÎ¬Î½Î¿", "Î Î¿ÏÏ„ Î§Î¬ÏÎºÎ¿ÏÏ„"], answer: "B"},
    {question: "Î Î¿Î¹Î± Ï‡ÏŽÏÎ± Î­Ï‡ÎµÎ¹ Ï„Î¿Î½ Î¼ÎµÎ³Î±Î»ÏÏ„ÎµÏÎ¿ Ï€Î»Î·Î¸Ï…ÏƒÎ¼ÏŒ Î¼Î¿Ï…ÏƒÎ¿Ï…Î»Î¼Î¬Î½Ï‰Î½ ÏƒÏ„Î¿Î½ ÎºÏŒÏƒÎ¼Î¿;", choices: ["Î£Î±Î¿Ï…Î´Î¹ÎºÎ® Î‘ÏÎ±Î²Î¯Î±", "Î¤Î¿Ï…ÏÎºÎ¯Î±", "Î™Î½Î´Î¿Î½Î·ÏƒÎ¯Î±", "Î Î±ÎºÎ¹ÏƒÏ„Î¬Î½"], answer: "C"},
    {question: "Î Î¿Î¹Î¿Ï‚ Î±Ï€ÏŒ Ï„Î¿Ï…Ï‚ Î±ÏƒÏ„ÏÎ¿Î½Î±ÏÏ„ÎµÏ‚ Ï„Î·Ï‚ Apollo 11 Î´ÎµÎ½ Ï€Î¬Ï„Î·ÏƒÎµ Ï€Î¿Ï„Î­ ÏƒÏ„Î· Î£ÎµÎ»Î®Î½Î·;", choices: ["ÎœÎ¬Î¹ÎºÎ» ÎšÏŒÎ»Î¹Î½Ï‚", "ÎÎ·Î» Î†ÏÎ¼ÏƒÏ„ÏÎ¿Î½Î³Îº", "ÎœÏ€Î±Î¶ ÎŒÎ»Î½Ï„ÏÎ¹Î½", "Î¤Î¶Î¹Î¼ Î›ÏŒÎ²ÎµÎ»"], answer: "A"}
  ];




  const prizes = [
    "â‚¬100", "â‚¬200", "â‚¬300", "â‚¬500", "â‚¬1,000",
    "â‚¬2,000", "â‚¬4,000", "â‚¬8,000", "â‚¬16,000", "â‚¬32,000",
    "â‚¬64,000", "â‚¬125,000", "â‚¬250,000", "â‚¬500,000", "â‚¬1,000,000"
  ];

  let current = 0;
  let used5050 = false;
  let usedPhone = false;
  let usedAudience = false;

  const startScreen = document.getElementById('start-screen');
  const playScreen = document.getElementById('play-screen');
  const endScreen = document.getElementById('end-screen');

  const questionBox = document.getElementById('question-box');
  const answersDiv = document.getElementById('answers');
  const phoneHintDiv = document.getElementById('phone-hint');
  const audienceHintDiv = document.getElementById('audience-hint');
  const feedbackDiv = document.getElementById('feedback');
  const prizeDisplay = document.getElementById('prize-display');

  const lifeline5050Btn = document.getElementById('lifeline-5050');
  const lifelinePhoneBtn = document.getElementById('lifeline-phone');
  const lifelineAudienceBtn = document.getElementById('lifeline-audience');

  const prizeList = document.getElementById('prize-list');

  // Render prize ladder list once at start
  function initPrizeLadder() {
    prizeList.innerHTML = '';
    for(let i = prizes.length -1; i >=0; i--) {
      const li = document.createElement('li');
      li.textContent = `${i + 1}. ${prizes[i]}`;
      // Mark guaranteed levels (for example 5th and 10th)
      if(i === 4 || i === 9) {
        li.classList.add('guaranteed');
      }
      prizeList.appendChild(li);
    }
  }

  function highlightCurrentPrize() {
    const items = prizeList.querySelectorAll('li');
    items.forEach((item, index) => {
      // prizeList is descending order, so invert index
      const prizeIndex = prizes.length - 1 - index;
      if(prizeIndex === current) {
        item.classList.add('current');
      } else {
        item.classList.remove('current');
      }
    });
  }

  function renderQuestion() {
    const q = questions[current];
    questionBox.textContent = q.question;
    prizeDisplay.textContent = "Current Prize: " + prizes[current];
    answersDiv.innerHTML = '';
    ['A','B','C','D'].forEach((letter,i)=>{
      const btn = document.createElement('button');
      btn.className = 'answer-btn';
      btn.textContent = `${letter}: ${q.choices[i]}`;
      btn.dataset.letter = letter;
      btn.disabled = false;
      btn.classList.remove('disabled');
      btn.onclick = () => selectAnswer(btn);
      answersDiv.appendChild(btn);
    });
    phoneHintDiv.style.display = 'none';
    phoneHintDiv.textContent = '';
    audienceHintDiv.style.display = 'none';
    audienceHintDiv.textContent = '';
    feedbackDiv.style.display = 'none';
    feedbackDiv.textContent = '';

    highlightCurrentPrize();
  }

  function selectAnswer(button) {
    if(button.disabled) return;
    const selected = button.dataset.letter;
    const correct = questions[current].answer;

    // Disable all buttons to prevent double click
    [...answersDiv.children].forEach(btn => {
        btn.disabled = true;
        btn.classList.add('disabled');

        // Highlight correct answer green
        if(btn.dataset.letter === correct) {
        btn.style.backgroundColor = '#00c000'; // green
        btn.style.color = 'white';
        }
    });

    // Highlight the pressed button red if wrong and it is not correct
    if(selected !== correct) {
        button.style.backgroundColor = '#c00000'; // red
        button.style.color = 'white';
    }

    if(selected === correct) {
        feedbackDiv.textContent = "Correct! ðŸŽ‰";
        feedbackDiv.className = "feedback correct";
        feedbackDiv.style.display = 'block';
        current++;
        if(current === questions.length) {
        setTimeout(() => endGame(true), 2000);
        } else {
        setTimeout(renderQuestion, 2000);
        }
    } else {
        feedbackDiv.textContent = `Wrong! Correct answer was ${correct}.`;
        feedbackDiv.className = "feedback wrong";
        feedbackDiv.style.display = 'block';
        setTimeout(() => endGame(false), 2000);
    }
    }


  function endGame(won) {
    playScreen.style.display = 'none';
    endScreen.style.display = 'block';
    const endText = document.getElementById('end-text');
    if(won) {
      endText.textContent = `Congratulations! You won ${prizes[prizes.length-1]}!`;
    } else {
      let prizeWon = "â‚¬0";
      if(current > 0) {
        // Guarantee if reached 5th or 10th question
        if(current > 9) prizeWon = prizes[9];
        else if(current > 4) prizeWon = prizes[4];
      }
      endText.textContent = `Game Over! You won ${prizeWon}.`;
    }
  }

  function resetGame(){
    current=0;
    used5050=usedPhone=usedAudience=false;
    lifeline5050Btn.classList.remove('used');
    lifelinePhoneBtn.classList.remove('used');
    lifelineAudienceBtn.classList.remove('used');
    endScreen.style.display = 'none';
    playScreen.style.display = 'block';
    renderQuestion();
  }

  // Lifelines

  lifeline5050Btn.onclick = () => {
    if(used5050) return;
    used5050 = true;
    lifeline5050Btn.classList.add('used');
    // Remove two wrong answers from current question
    const correct = questions[current].answer;
    let removed = 0;
    [...answersDiv.children].forEach(btn => {
      if(btn.dataset.letter !== correct && removed < 2) {
        btn.disabled = true;
        btn.classList.add('disabled');
        removed++;
      }
    });
  };

  lifelinePhoneBtn.onclick = () => {
    if(usedPhone) return;
    usedPhone = true;
    lifelinePhoneBtn.classList.add('used');
    phoneHintDiv.style.display = 'block';
    // Phone friend gives 80% chance correct answer, else random wrong
    const correct = questions[current].answer;
    if(Math.random() < 0.8) {
      phoneHintDiv.textContent = `Your friend thinks the answer is ${correct}`;
    } else {
      const letters = ['A','B','C','D'].filter(l => l !== correct);
      const randomWrong = letters[Math.floor(Math.random()*letters.length)];
      phoneHintDiv.textContent = `Your friend thinks the answer is ${randomWrong}`;
    }
  };

    lifelineAudienceBtn.onclick = () => {
        if (usedAudience) return;
        usedAudience = true;
        lifelineAudienceBtn.classList.add('used');
        audienceHintDiv.style.display = 'block';

        const correct = questions[current].answer;  // e.g., 'B'

        let correctPercent = 26 + Math.floor(Math.random() * 20); // 50-70%
        let remaining = 100 - correctPercent;
        const others = ['A', 'B', 'C', 'D'].filter(l => l !== correct);

        // Random distribution for others
        let distribution = others.map(() => Math.floor(Math.random() * remaining));
        const sumDist = distribution.reduce((a, b) => a + b, 0);

        // Normalize to sum to remaining
        let normalized = distribution.map(x => Math.floor(x * remaining / sumDist));

        // Adjust for rounding errors
        let totalOthers = normalized.reduce((a, b) => a + b, 0);
        normalized[0] += remaining - totalOthers;

        // Map each other letter to its percentage for easy lookup
        const othersPercentMap = {};
        others.forEach((letter, i) => {
            othersPercentMap[letter] = normalized[i];
        });

        audienceHintDiv.innerHTML = '';

        const container = document.createElement('div');
        container.style.display = 'flex';
        container.style.justifyContent = 'space-around';
        container.style.alignItems = 'flex-end';
        container.style.height = '150px';
        container.style.border = '1px solid #ccc';
        container.style.padding = '10px';
        container.style.background = '#f9f9f9';

        function createBar(label, percent) {
            const barWrapper = document.createElement('div');
            barWrapper.style.textAlign = 'center';
            barWrapper.style.width = '20%';

            const bar = document.createElement('div');
            bar.style.height = `${percent * 1.5}px`;
            bar.style.width = '40px';
            bar.style.margin = '0 auto 5px auto';
            bar.style.backgroundColor = '#2196F3'; // same blue for all
            bar.style.borderRadius = '5px';
            bar.style.transition = 'height 0.5s ease';

            const labelPercent = document.createElement('div');
            labelPercent.textContent = `${percent}%`;
            labelPercent.style.fontWeight = 'bold';
            labelPercent.style.marginBottom = '4px';

            const labelLetter = document.createElement('div');
            labelLetter.textContent = label;
            labelLetter.style.fontWeight = 'bold';

            barWrapper.appendChild(labelPercent);
            barWrapper.appendChild(bar);
            barWrapper.appendChild(labelLetter);

            return barWrapper;
        }

        // Create bars in fixed order A, B, C, D
        ['A', 'B', 'C', 'D'].forEach(letter => {
            if (letter === correct) {
                container.appendChild(createBar(letter, correctPercent));
            } else {
                container.appendChild(createBar(letter, othersPercentMap[letter]));
            }
        });

        audienceHintDiv.appendChild(container);
    };




  // Start screen click handler
  startScreen.onclick = () => {
    startScreen.style.display = 'none';
    playScreen.style.display = 'block';
    initPrizeLadder();
    renderQuestion();
  };

  // End screen keyboard handler
  document.addEventListener('keydown', e => {
    if(endScreen.style.display === 'block') {
      if(e.key.toLowerCase() === 'r') {
        resetGame();
      } else if(e.key.toLowerCase() === 'q') {
        window.close();
      }
    }
  });
</script>
</body>
</html>
