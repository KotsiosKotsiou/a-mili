<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Who Wants to Be a Millionaire â€“ Kids Edition</title>
  <style>
    html, body {
      height: 100%;
      width: 100%;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: Arial, sans-serif;
      background: url('images/game-background.jpg') no-repeat center center;
      background-size: cover;
      color: white;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    #game-container {
      position: relative;
      width: 1100px;
      height: 700px;
      display: flex;
      background: rgba(0,0,0,0.7);
      border-radius: 15px;
      box-shadow: 0 0 20px #000;
      overflow: hidden;
    }

    /* Prize ladder styling */
    #prize-ladder {
      width: 250px;
      background: #111a33;
      border-left: 5px solid orange;
      padding: 15px 10px;
      box-sizing: border-box;
      color: #fff;
      font-weight: bold;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      overflow-y: auto;
      user-select: none;
    }
    #prize-ladder h2 {
      text-align: center;
      color: orange;
      margin: 10px 0 20px 0;
      font-size: 24px;
      letter-spacing: 2px;
    }
    #prize-ladder ul {
      list-style: none;
      padding: 0;
      margin: 0;
      font-size: 18px;
    }
    #prize-ladder ul li {
      padding: 8px 10px;
      margin: 4px 0;
      border-radius: 5px;
      background: #223355;
      transition: background 0.3s, color 0.3s;
      display: flex;
      justify-content: space-between;
    }
    #prize-ladder ul li.current {
      background: orange;
      color: black;
      font-weight: bold;
      font-size: 20px;
      box-shadow: 0 0 10px orange;
    }
    #prize-ladder ul li.guaranteed {
      border-left: 5px solid #00cc00;
    }

    /* Left game area */
    #left-area {
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      padding: 20px 40px;
      box-sizing: border-box;
      position: relative;
    }

    #bottom-left-image {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 320px;
      height: auto;
      pointer-events: none;
      user-select: none;
      z-index: 1000;
    }

    .lifelines {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 15px;
      z-index: 999;
    }

    .lifeline-btn {
      background: #3296ff;
      border: none;
      border-radius: 8px;
      padding: 10px 20px;
      font-size: 18px;
      color: black;
      cursor: pointer;
      user-select: none;
      flex-grow: 1;
      max-width: 180px;
      transition: background 0.3s;
    }

    .lifeline-btn.used {
      background: #888;
      color: #555;
      cursor: not-allowed;
    }

    #play-area {
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      max-width: 700px;
      margin: 0 auto;
    }

    .question-box {
      background: rgba(0, 50, 255, 0.9);
      border: 4px solid orange;
      padding: 20px;
      font-size: 24px;
      margin-bottom: 20px;
      word-wrap: break-word;
      min-height: 100px;
      border-radius: 10px;
    }

    .answers {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      width: 100%;
    }

    .answer-btn {
      background: #3296ff;
      border: none;
      border-radius: 10px;
      padding: 15px;
      font-size: 20px;
      color: black;
      cursor: pointer;
      user-select: none;
      transition: background 0.3s;
    }

    .answer-btn.disabled {
      background: #ccc;
      color: #888;
      cursor: not-allowed;
    }

    .answer-btn:hover:not(.disabled) {
      background: yellow;
    }

    .feedback, .phone-hint, .audience-hint {
      font-size: 28px;
      padding: 10px;
      margin-top: 20px;
      background: white;
      color: black;
      border-radius: 8px;
      display: none;
      min-height: 40px;
    }

    .feedback.correct { color: #00c000; }
    .feedback.wrong { color: #c00000; }

    #start-screen, #end-screen {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100%;
      max-width: 700px;
      text-align: center;
      user-select: none;
    }

    #prize-display {
      font-size: 22px;
      color: yellow;
      margin-top: 10px;
      font-weight: bold;
      user-select: none;
    }

    /* NEW: Special congratulatory message styling */
    #millionaire-congrats {
      font-size: 32px;
      color: yellow;
      display: none;
      margin-top: 20px;
      text-shadow: 0 0 10px yellow;
    }
  </style>
</head>
<body>
  <img id="bottom-left-image" src="images/Gemini_Generated_Image_gj5gt3gj5gt3gj5g-removebg-preview.png" alt="Mascot" />

  <div id="game-container">
    <div id="left-area">
      <div id="start-screen">
        <h1 style="font-size:48px;color:orange;">Who Wants to Be a Millionaire!</h1>
        <p style="font-size:28px;color:red;">Click anywhere to start</p>
      </div>

      <div id="play-screen" style="display:none;">
        <div class="lifelines">
          <button id="lifeline-5050" class="lifeline-btn">50:50</button>
          <button id="lifeline-phone" class="lifeline-btn">Phone a Friend</button>
          <button id="lifeline-audience" class="lifeline-btn">Ask the Audience</button>
        </div>

        <div id="play-area">
          <div class="question-box" id="question-box"></div>
          <div class="answers" id="answers"></div>
          <div class="phone-hint" id="phone-hint"></div>
          <div class="audience-hint" id="audience-hint"></div>
          <div class="feedback" id="feedback"></div>
          <div id="prize-display"></div>
        </div>
      </div>

      <div id="end-screen" style="display:none;">
        <h1 class="feedback" id="end-text"></h1>
        <!-- NEW congratulatory paragraph only shown for â‚¬1,000,000 -->
        <p id="millionaire-congrats">ðŸŒŸ You are now a Millionaire! ðŸŒŸ</p>
        <p style="font-size:28px;color:orange;">Click anywhere to play again ðŸ‘‰ðŸ‘ˆ</p>
      </div>
    </div>

    <div id="prize-ladder">
      <h2>Prize Ladder</h2>
      <ul id="prize-list"></ul>
    </div>
  </div>

<script>
// ----------------------- DATA ---------------------------------
const questions = [
  {question:"Î Î¿Î¹Î¿Ï‚ ÎµÎ¯Î½Î±Î¹ Î¿ ÏŒÏÎ¿Ï‚ Ï€Î¿Ï… Ï€ÎµÏÎ¹Î³ÏÎ¬Ï†ÎµÎ¹ Ï„Î· Î¼ÎµÎ»Î­Ï„Î· Î¼Î¹ÎºÏÏŽÎ½ ÏƒÏ‰Î¼Î±Ï„Î¹Î´Î¯Ï‰Î½ ÏƒÏ„Î· Ï†Î±ÏÎ¼Î±ÎºÎµÏ…Ï„Î¹ÎºÎ® Ï„ÎµÏ‡Î½Î¿Î»Î¿Î³Î¯Î±;",choices:["Î¦Î±ÏÎ¼Î±ÎºÎ¿ÎºÎ¹Î½Î·Ï„Î¹ÎºÎ®","Î¡ÎµÏ…ÏƒÏ„Î¿Î¼Î·Ï‡Î±Î½Î¹ÎºÎ®","ÎœÎ¹ÎºÏÎ¿Î¼ÎµÏÎ·Ï„Î¹ÎºÎ®","Î¦Ï…ÏƒÎ¹ÎºÎ¿Ï‡Î·Î¼ÎµÎ¯Î±"],answer:"C"},
  {question:"Î Î¿Î¹Î± ÎµÎ¯Î½Î±Î¹ Î· Î²Î±ÏƒÎ¹ÎºÎ® Î¹Î´Î¹ÏŒÏ„Î·Ï„Î± Ï„Ï‰Î½ Ï€Î¿Î»Ï Î»ÎµÏ€Ï„ÏŽÎ½ ÎºÏŒÎ½ÎµÏ‰Î½ ÏƒÎµ ÏƒÏ‡Î­ÏƒÎ· Î¼Îµ Ï„Î· ÏÎ¿Î®;",choices:["Î¡Î­Î¿Ï…Î½ ÏŒÏ€Ï‰Ï‚ Ï…Î³ÏÎ¬","Î”Î¹Î±Î»ÏÎ¿Î½Ï„Î±Î¹ ÎµÏÎºÎ¿Î»Î±","Î£Ï‡Î·Î¼Î±Ï„Î¯Î¶Î¿Ï…Î½ Î±Î»Ï…ÏƒÎ¯Î´ÎµÏ‚","ÎˆÏ‡Î¿Ï…Î½ Ï‡Î±Î¼Î·Î»Î® Î±Ï€Î¿ÏÏÏŒÏ†Î·ÏƒÎ·"],answer:"C"},
  {question:"Î Î¿Î¹Î± Î´Î¹Î¬Î¼ÎµÏ„ÏÎ¿Ï‚ Î±Î½Ï„Î¹Ï€ÏÎ¿ÏƒÏ‰Ï€ÎµÏÎµÎ¹ Ï„Î· ÏƒÏ‡Î­ÏƒÎ· ÏŒÎ³ÎºÎ¿Ï… Ï€ÏÎ¿Ï‚ ÎµÏ€Î¹Ï†Î¬Î½ÎµÎ¹Î± ÎµÎ½ÏŒÏ‚ ÏƒÏ‰Î¼Î±Ï„Î¹Î´Î¯Î¿Ï…;",choices:["Î ÏÎ¿Î²Î±Î»Î»ÏŒÎ¼ÎµÎ½Î· Î´Î¹Î¬Î¼ÎµÏ„ÏÎ¿Ï‚","Î”Î¹Î¬Î¼ÎµÏ„ÏÎ¿Ï‚ ÏŒÎ³ÎºÎ¿Ï…","Î”Î¹Î¬Î¼ÎµÏ„ÏÎ¿Ï‚ ÎµÏ€Î¹Ï†Î±Î½ÎµÎ¯Î±Ï‚","Î”Î¹Î¬Î¼ÎµÏ„ÏÎ¿Ï‚ ÏŒÎ³ÎºÎ¿Ï…-ÎµÏ€Î¹Ï†Î±Î½ÎµÎ¯Î±Ï‚"],answer:"D"},
  {question:"Î— Î¼Î­Î¸Î¿Î´Î¿Ï‚ Ï„Ï‰Î½ Î±Î½Î±Î»Ï…Ï„Î¹ÎºÏŽÎ½ ÎºÏŒÏƒÎºÎ¹Î½Ï‰Î½ ÎµÏ†Î±ÏÎ¼ÏŒÎ¶ÎµÏ„Î±Î¹ Î³Î¹Î± ÏƒÏ‰Î¼Î±Ï„Î¯Î´Î¹Î± Î¼ÎµÎ³Î­Î¸Î¿Ï…Ï‚:",choices:["0.1 - 50 Î¼m","50 - 1000 Î¼m","1000 - 5000 Î¼m","0.001 - 0.1 Î¼m"],answer:"B"},
  {question:"Î£ÏÎ¼Ï†Ï‰Î½Î± Î¼Îµ Ï„Î¿Î½ ÎÏŒÎ¼Î¿ Ï„Î¿Ï… Stokes, Ï€Î¿Î¹Î¿Ï‚ Ï€Î±ÏÎ¬Î³Î¿Î½Ï„Î±Ï‚ Î´ÎµÎ½ ÎµÏ€Î·ÏÎµÎ¬Î¶ÎµÎ¹ Ï„Î·Î½ Ï„Î±Ï‡ÏÏ„Î·Ï„Î± ÎºÎ±Î¸Î¯Î¶Î·ÏƒÎ·Ï‚;",choices:["Î Ï…ÎºÎ½ÏŒÏ„Î·Ï„Î± ÏƒÏ‰Î¼Î±Ï„Î¹Î´Î¯Î¿Ï…","Î Ï…ÎºÎ½ÏŒÏ„Î·Ï„Î± Ï…Î³ÏÎ¿Ï","Î•Ï€Î¹Ï†Î¬Î½ÎµÎ¹Î± ÏƒÏ‰Î¼Î±Ï„Î¹Î´Î¯Î¿Ï…","Î™Î¾ÏŽÎ´ÎµÏ‚ Ï…Î³ÏÎ¿Ï"],answer:"C"},
  {question:"Î Î¿Î¹Î± Î¼Î­Î¸Î¿Î´Î¿Ï‚ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯Ï„Î±Î¹ Î³Î¹Î± Ï„Î·Î½ ÎµÏÏÎµÏƒÎ· Ï„Î¿Ï… Ï€ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÎ¿Ï ÏŒÎ³ÎºÎ¿Ï… Ï„Ï‰Î½ ÏƒÏ‰Î¼Î±Ï„Î¹Î´Î¯Ï‰Î½;",choices:["ÎœÎ¹ÎºÏÎ¿ÏƒÎºÏŒÏ€Î·ÏƒÎ·","ÎšÎ±Î¸Î¯Î¶Î·ÏƒÎ·","Î•ÎºÏ„ÏŒÏ€Î¹ÏƒÎ· Ï…Î³ÏÎ¿Ï","Î•ÎºÏ„ÏŒÏ€Î¹ÏƒÎ· Î±ÎµÏÎ¯Î¿Ï…"],answer:"D"},
  {question:"Î¤Î¿ Ï€Î¿ÏÏŽÎ´ÎµÏ‚ Î¼Îµ Ï„Î¹ ÏƒÏ…Î½Î´Î­ÎµÏ„Î±Î¹ Î¬Î¼ÎµÏƒÎ±;",choices:["ÎœÎµ Ï„Î·Î½ ÎµÎ¹Î´Î¹ÎºÎ® ÎµÏ€Î¹Ï†Î¬Î½ÎµÎ¹Î±","ÎœÎµ Ï„Î·Î½ Ï„Î±Ï‡ÏÏ„Î·Ï„Î± Î´Î¹Î¬Î»Ï…ÏƒÎ·Ï‚","ÎœÎµ Ï„Î·Î½ Î¿Î»Î¹ÎºÎ® Ï€Ï…ÎºÎ½ÏŒÏ„Î·Ï„Î±","ÎœÎµ Ï„Î·Î½ Î·Î»ÎµÎºÏ„ÏÎ¹ÎºÎ® Î±Î³Ï‰Î³Î¹Î¼ÏŒÏ„Î·Ï„Î±"],answer:"C"},
  {question:"Î Î¿Î¹Î± ÎµÎ¯Î½Î±Î¹ Î· Ï€Ï…ÎºÎ½ÏŒÏ„Î·Ï„Î± Ï„Î·Ï‚ ÎºÏŒÎ½ÎµÏ‰Ï‚ Ï€Î¿Ï… Ï…Ï€Î¿Î»Î¿Î³Î¯Î¶ÎµÏ„Î±Î¹ Î¼ÏŒÎ½Î¿ Î¼Îµ Î²Î¬ÏƒÎ· Ï„Î· Î¼Î¬Î¶Î± ÎºÎ±Î¹ Ï„Î¿Î½ Ï€ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÏŒ ÏŒÎ³ÎºÎ¿ Ï„Ï‰Î½ ÏƒÏ‰Î¼Î±Ï„Î¹Î´Î¯Ï‰Î½;",choices:["ÎŸÎ»Î¹ÎºÎ® Ï€Ï…ÎºÎ½ÏŒÏ„Î·Ï„Î±","Î Ï…ÎºÎ½ÏŒÏ„Î·Ï„Î± ÏƒÏ‰Î¼Î±Ï„Î¹Î´Î¯Ï‰Î½","Î ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÎ® Ï€Ï…ÎºÎ½ÏŒÏ„Î·Ï„Î±","Î•Î¹Î´Î¹ÎºÎ® Ï€Ï…ÎºÎ½ÏŒÏ„Î·Ï„Î±"],answer:"C"},
  {question:"Î Î¿Î¹Î± Î´Î¹Î¬Ï„Î±Î¾Î· Î­Ï‡ÎµÎ¹ Ï„Î¿ Î¼Î¹ÎºÏÏŒÏ„ÎµÏÎ¿ Î¸ÎµÏ‰ÏÎ·Ï„Î¹ÎºÏŒ Ï€Î¿ÏÏŽÎ´ÎµÏ‚ ÏƒÎµ ÏƒÏ†Î±Î¹ÏÎ¹ÎºÎ¬ ÏƒÏ‰Î¼Î±Ï„Î¯Î´Î¹Î±;",choices:["Î‘Î½Î¿Î¹ÎºÏ„Î® ÎºÏ…Î²Î¹ÎºÎ®","ÎšÎ»ÎµÎ¹ÏƒÏ„Î® ÏÎ¿Î¼Î²Î¿ÎµÎ´ÏÎ¹ÎºÎ®","Î¤Ï…Ï‡Î±Î¯Î± ÎºÎ±Ï„Î±Î½Î¿Î¼Î®","Î£Ï€ÎµÎ¹ÏÎ¿ÎµÎ¹Î´Î®Ï‚ Î´Î¹Î¬Ï„Î±Î¾Î·"],answer:"B"},
  {question:"Î— Î¹ÎºÎ±Î½ÏŒÏ„Î·Ï„Î± Î´Î¹Î±ÏƒÏ€Î¿ÏÎ¬Ï‚ ÎºÎ±Î¹ Î´Î¹Î¬Î»Ï…ÏƒÎ·Ï‚ Î±Ï…Î¾Î¬Î½ÎµÏ„Î±Î¹ ÏŒÏ„Î±Î½:",choices:["Î¤Î¿ Î¼Î­Î³ÎµÎ¸Î¿Ï‚ Ï„Ï‰Î½ ÏƒÏ‰Î¼Î±Ï„Î¹Î´Î¯Ï‰Î½ Î±Ï…Î¾Î¬Î½ÎµÏ„Î±Î¹","Î— ÎµÏ€Î¹Ï†Î¬Î½ÎµÎ¹Î± ÎµÏ€Î±Ï†Î®Ï‚ Î¼ÎµÎ¹ÏŽÎ½ÎµÏ„Î±Î¹","Î¤Î¿ Î¼Î­Î³ÎµÎ¸Î¿Ï‚ Î¼ÎµÎ¹ÏŽÎ½ÎµÏ„Î±Î¹","Î¤Î± ÏƒÏ‰Î¼Î±Ï„Î¯Î´Î¹Î± ÎµÎ¯Î½Î±Î¹ Î¬Î¼Î¿ÏÏ†Î±"],answer:"C"},
  {question:"Î“Î¹Î± Î½Î± ÎµÏ€Î¹Ï„ÎµÏ…Ï‡Î¸ÎµÎ¯ Ï„Î­Î»ÎµÎ¹Î± Î±Î½Î¬Î¼Î¹Î¾Î· Î±Ï€Î±Î¹Ï„ÎµÎ¯Ï„Î±Î¹:",choices:["Î™ÏƒÎ¿Î¼ÎµÎ³Î­Î¸Î· ÏƒÏ‰Î¼Î±Ï„Î¯Î´Î¹Î±","ÎœÎµÎ³Î¬Î»Î· Î´Î¹Î±Ï†Î¿ÏÎ¬ Ï€Ï…ÎºÎ½ÏŒÏ„Î·Ï„Î±Ï‚","Î£Ï…Î½ÎµÏ‡Î®Ï‚ Î¸Î­ÏÎ¼Î±Î½ÏƒÎ·","Î”Î¹Î±Î´Î¿Ï‡Î¹ÎºÎ® ÏƒÏ…Î¼Ï€Î¯ÎµÏƒÎ·"],answer:"A"},
  {question:"Î— Î¼ÎµÎ¯Ï‰ÏƒÎ· Ï„Î¿Ï… Î¼ÎµÎ³Î­Î¸Î¿Ï…Ï‚ ÏƒÏ‰Î¼Î±Ï„Î¹Î´Î¯Ï‰Î½ Î±Ï…Î¾Î¬Î½ÎµÎ¹:",choices:["Î¤Î· ÏÎ¿Î®","Î¤Î¿ Ï€Î¿ÏÏŽÎ´ÎµÏ‚","Î¤Î· Î´ÏÎ¬ÏƒÎ· van der Waals","Î¤Î· Î´Î¹Î¬Ï‡Ï…ÏƒÎ· Î¸ÎµÏÎ¼ÏŒÏ„Î·Ï„Î±Ï‚"],answer:"C"},
  {question:"Î Î¿Î¹Î¿ Ï†Î±Î¹Î½ÏŒÎ¼ÎµÎ½Î¿ Ï€Î±ÏÎ±Ï„Î·ÏÎµÎ¯Ï„Î±Î¹ ÏŒÏ„Î±Î½ Î±Î½Î±Î¼Î¹Î³Î½ÏÎ¿Î½Ï„Î±Î¹ ÎºÏŒÎ½ÎµÏ‰Î½ Î¼Îµ Î¼ÎµÎ³Î¬Î»ÎµÏ‚ Î´Î¹Î±Ï†Î¿ÏÎ­Ï‚ Î¼ÎµÎ³Î­Î¸Î¿Ï…Ï‚ ÏƒÏ‰Î¼Î±Ï„Î¹Î´Î¯Ï‰Î½;",choices:["Î‘ÏÎ¾Î·ÏƒÎ· Ï€Î¯ÎµÏƒÎ·Ï‚","ÎŸÎ¼Î¿Î¹Î¿Î¼Î¿ÏÏ†Î¯Î± Î¼Î¯Î³Î¼Î±Ï„Î¿Ï‚","Î”Î¹Î±Ï‡Ï‰ÏÎ¹ÏƒÎ¼ÏŒÏ‚ ÏƒÏ„ÏÏ‰Î¼Î¬Ï„Ï‰Î½","Î‘Î½Î±ÏƒÏ„ÏÎ¿Ï†Î® Î±Î½Î¬Î¼Î¹Î¾Î·Ï‚"],answer:"C"},
  {question:"Î— Î»ÎµÎ¹Î¿Ï„ÏÎ¯Î²Î·ÏƒÎ· ÎµÏ€Î¹Ï„Ï…Î³Ï‡Î¬Î½ÎµÎ¹:",choices:["Î‘ÏÎ¾Î·ÏƒÎ· ÏƒÎºÎ»Î·ÏÏŒÏ„Î·Ï„Î±Ï‚","Î‘ÏÎ¾Î·ÏƒÎ· Î¼ÎµÎ³Î­Î¸Î¿Ï…Ï‚","ÎœÎµÎ¯Ï‰ÏƒÎ· Î¼ÎµÎ³Î­Î¸Î¿Ï…Ï‚","Î‘Î»Î»Î±Î³Î® Ï€Ï…ÎºÎ½ÏŒÏ„Î·Ï„Î±Ï‚"],answer:"C"},
  {question:"Î Î¿Î¹Î± ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î± ÎºÏŒÎ½ÎµÏ‰Ï‚ Ï€ÎµÏÎ¹Î»Î±Î¼Î²Î¬Î½ÎµÎ¹ ÏƒÏ‰Î¼Î±Ï„Î¯Î´Î¹Î± Î¼Î¹ÎºÏÏŒÏ„ÎµÏÎ± Î±Ï€ÏŒ 74 Î¼m;",choices:["Î‘Î´ÏÎ¿Î¼ÎµÏÎµÎ¯Ï‚","Î•Î½Î´Î¹Î¬Î¼ÎµÏƒÎµÏ‚","Î›ÎµÏ€Ï„Î­Ï‚","Î§Î¿Î½Î´ÏÎ¿ÎµÎ¹Î´ÎµÎ¯Ï‚"],answer:"C"}
];
const prizes = [
  "â‚¬100","â‚¬200","â‚¬300","â‚¬500","â‚¬1,000",
  "â‚¬2,000","â‚¬4,000","â‚¬8,000","â‚¬16,000","â‚¬32,000",
  "â‚¬64,000","â‚¬125,000","â‚¬250,000","â‚¬500,000","â‚¬1,000,000"
];

// ---------------------- STATE ---------------------------------
let current = 0;
let used5050 = false;
let usedPhone = false;
let usedAudience = false;

// ---------------------- ELEMENTS ------------------------------
const startScreen = document.getElementById('start-screen');
const playScreen  = document.getElementById('play-screen');
const endScreen   = document.getElementById('end-screen');
const questionBox = document.getElementById('question-box');
const answersDiv  = document.getElementById('answers');
const phoneHintDiv    = document.getElementById('phone-hint');
const audienceHintDiv = document.getElementById('audience-hint');
const feedbackDiv = document.getElementById('feedback');
const prizeDisplay = document.getElementById('prize-display');
const lifeline5050Btn = document.getElementById('lifeline-5050');
const lifelinePhoneBtn = document.getElementById('lifeline-phone');
const lifelineAudienceBtn = document.getElementById('lifeline-audience');
const prizeList = document.getElementById('prize-list');
const millionaireCongrats = document.getElementById('millionaire-congrats');
const endText = document.getElementById('end-text');

// ---------------------- INIT ----------------------------------
initPrizeLadder();

// Start game on first click
document.body.addEventListener('click', firstClick);
function firstClick(){
  document.body.removeEventListener('click', firstClick);
  startGame();
}

// ------------------ GAME FLOW FUNCTIONS -----------------------
function startGame(){
  startScreen.style.display = 'none';
  playScreen.style.display = 'block';
  endScreen.style.display = 'none';
  current = 0;
  used5050 = usedPhone = usedAudience = false;
  resetLifelinesUI();
  millionaireCongrats.style.display = 'none';
  renderQuestion();
}

function endGame(won, prize="â‚¬0"){
  playScreen.style.display = 'none';
  endScreen.style.display  = 'block';
  if(won){
    endText.textContent = "ðŸŽ‰ Congratulations! You won â‚¬1,000,000!";
    endText.className = 'feedback correct';
    millionaireCongrats.style.display = 'block';
  }else{
    endText.textContent = `ðŸ’” Wrong answer! You leave with ${prize}`;
    endText.className = 'feedback wrong';
    millionaireCongrats.style.display = 'none';
  }
  // allow click to restart
  endScreen.addEventListener('click', restartHandler);
}
function restartHandler(){
  endScreen.removeEventListener('click', restartHandler);
  startGame();
}

// ------------------ QUESTION RENDERING ------------------------
function renderQuestion(){
  const q = questions[current];
  questionBox.textContent = q.question;
  prizeDisplay.textContent = `Current Prize: ${prizes[current]}`;
  answersDiv.innerHTML = '';
  ['A','B','C','D'].forEach((letter,i)=>{
    const btn = document.createElement('button');
    btn.className = 'answer-btn';
    btn.textContent = `${letter}: ${q.choices[i]}`;
    btn.dataset.letter = letter;
    btn.addEventListener('click', ()=>selectAnswer(btn));
    answersDiv.appendChild(btn);
  });
  phoneHintDiv.style.display = audienceHintDiv.style.display = 'none';
  feedbackDiv.style.display = 'none';
  highlightCurrentPrize();
}

function highlightCurrentPrize(){
  [...prizeList.children].forEach((li,idx)=>{
    const prizeIndex = prizes.length-1-idx; // list reversed
    li.classList.toggle('current', prizeIndex === current);
  });
}

function selectAnswer(btn){
  disableAnswers();
  const userLetter = btn.dataset.letter;
  const correctLetter = questions[current].answer;
  if(userLetter === correctLetter){
    btn.style.background = '#00ff90';
    feedbackDiv.textContent = 'Correct!';
    feedbackDiv.classList.remove('wrong');
    feedbackDiv.classList.add('correct');
    feedbackDiv.style.display = 'block';
    setTimeout(()=>{
      current++;
      if(current >= questions.length){
        endGame(true);
      }else{
        renderQuestion();
      }
    }, 1200);
  }else{
    btn.style.background = '#ff6060';
    feedbackDiv.textContent = 'Wrong!';
    feedbackDiv.classList.remove('correct');
    feedbackDiv.classList.add('wrong');
    feedbackDiv.style.display = 'block';
    const prizeWon = calculateGuaranteedPrize();
    setTimeout(()=> endGame(false, prizeWon), 1500);
  }
}

function disableAnswers(){
  [...answersDiv.children].forEach(b=>{
    b.classList.add('disabled');
    b.disabled = true;
  });
}

function calculateGuaranteedPrize(){
  if(current >= 10) return "â‚¬32,000";
  if(current >= 5)  return "â‚¬1,000";
  return "â‚¬0";
}

// ------------------ PRIZE LADDER INIT -------------------------
function initPrizeLadder(){
  prizeList.innerHTML = '';
  for(let i=prizes.length-1;i>=0;i--){
    const li = document.createElement('li');
    li.textContent = `${i+1}. ${prizes[i]}`;
    if(i===4 || i===9) li.classList.add('guaranteed');
    prizeList.appendChild(li);
  }
}

// ------------------ LIFELINES ---------------------------------

lifeline5050Btn.addEventListener('click', use5050);
lifelinePhoneBtn.addEventListener('click', usePhone);
lifelineAudienceBtn.addEventListener('click', useAudience);

function resetLifelinesUI(){
  [lifeline5050Btn, lifelinePhoneBtn, lifelineAudienceBtn].forEach(btn=>{
    btn.classList.remove('used');
    btn.disabled = false;
  });
}

function use5050(){
  if(used5050) return;
  used5050 = true;
  lifeline5050Btn.classList.add('used');
  lifeline5050Btn.disabled = true;
  const correct = questions[current].answer;
  const wrongButtons = [...answersDiv.children].filter(b=>b.dataset.letter!==correct);
  shuffleArray(wrongButtons).slice(0,2).forEach(b=>{
    b.textContent = '';
    b.disabled = true;
    b.classList.add('disabled');
  });
}

function usePhone(){
  if(usedPhone) return;
  usedPhone = true;
  lifelinePhoneBtn.classList.add('used');
  lifelinePhoneBtn.disabled = true;
  phoneHintDiv.textContent = `Friend thinks the answer is "${questions[current].answer}"`;
  phoneHintDiv.style.display = 'block';
}

function useAudience(){
  if(usedAudience) return;
  usedAudience = true;
  lifelineAudienceBtn.classList.add('used');
  lifelineAudienceBtn.disabled = true;
  const percentages = {A: randomInt(10,30), B: randomInt(10,30), C: randomInt(10,30), D: randomInt(10,30)};
  percentages[questions[current].answer] = 100 - (percentages.A+percentages.B+percentages.C+percentages.D - percentages[questions[current].answer]);
  audienceHintDiv.textContent = `Audience votes â†’ A:${percentages.A}%  B:${percentages.B}%  C:${percentages.C}%  D:${percentages.D}%`;
  audienceHintDiv.style.display = 'block';
}

// ------------------ UTILS ------------------------------------
function randomInt(min,max){
  return Math.floor(Math.random()*(max-min+1))+min;
}

function shuffleArray(arr){
  for(let i=arr.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [arr[i],arr[j]] = [arr[j],arr[i]];
  }
  return arr;
}
</script>
</body>
</html>
